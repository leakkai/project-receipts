<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Home</title>
    <meta charset="UTF-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    
    <!-- General CSS  -->
    <link rel="stylesheet" th:href="@{https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.1.4/flatpickr.min.css}"/>
    <link rel="stylesheet" th:href="@{https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css}"/>
    <link rel="stylesheet" th:href="@{/css/bulma.css}"/>
    <link rel="stylesheet" th:href="@{/css/animate.css}"/>

	<!-- Custom CSS  -->
    <link rel="stylesheet" th:href="@{/css/style.css}"/>
</head>

<body>
	<div class="hero is-small is-info">
		
		<div class="hero-head">
			<nav class="navbar">
				<div class="container">
		        	<div class="navbar-brand">
		          		<a class="navbar-item is-active" th:href="@{/receipt/}">
		            		Home
		          		</a>
		          		
		          		<a class="navbar-item">
	              			View
	            		</a>
		          		
		          		<span class="navbar-burger burger" data-target="navbarMenuHeroA">
		            		<span></span>
		            		<span></span>
		            		<span></span>
		          		</span>
		        	</div>
		        
		        	<div id="navbarMenuHeroA" class="navbar-menu">
		          		<div class="navbar-end">
		            		<a class="navbar-item is-active">
		              			Home
		            		</a>
		          		</div>
		        	</div>
		      	</div>
			</nav>
		</div>	
	
		<div class="hero-body">
			<div class="container">
				<h1 class="title is-1">
					Insert
				</h1>
	    	</div>
	  	</div>
	</div>
	 
       
    <section>
	    <div id="success-foreground">
	    	<div id="success-load" class="button is-loading hide"></div>
	   		<div id="success-check" class="iconz fas fa-check hide"></div>
	    </div>

    	<div id="modal" class="modal">
			<div class="modal-background" data-modal-id="#modal"></div>
 			<div class="modal-content">
 				<form id="addressForm">
					<div class="box" >
		                <div class="field">
		                    <label class="label">Street Address</label>
		                    <div class="control">
		                        <input class="input" id="address1" type="text" required placeholder="13701 Midway Rd #120">
		                    </div>
		                </div>
		
		                <div class="field is-grouped">
		                    <div class="control">
		                        <label class="label">City</label>
		                        <input class="input" id="city" type="text" required placeholder="Farmers Branch">
		                    </div>
		                    <div class="control">
		                        <label class="label">Zip Code</label>
		                        <input class="input" id="postalCode" type="text" required placeholder="75244">
		                    </div>
		                </div>
		                
		                <div class="field is-grouped">
							<div class="control">
		                        <label class="label">State</label>
		                        <input class="input" id="state" type="text" required value="Texas" placeholder="Texas">
		                    </div>
		                    <div class="control">
		                        <label class="label">Country</label>
		                        <input class="input" id="country" type="text" required value="US" placeholder="US">
		                    </div>
						</div>
						
		                <div class="control">
		                    <button class="button is-primary" id="addressCreateButton">Create</button>
		                </div>
	                </div>
                </form>
 			</div>
 			<button class="modal-close is-large" id="closeAddress" data-modal-id="#modal" aria-label="close"></button>
		</div>
		
        <div class="container">        
            <form class="form" id="headerForm">
				<div class="field is-horizontal">
					<div class="field-label">
	                    <label class="label">Date</label>
                    </div>                
                    <div class="field-body">
                    	<div class="field">
		                    <div class="control is-expanded">
		                        <input class="input date" type="text" name="date" required>
		                    </div>
	                    </div>
	                </div>
               </div>
                
                <div class="field is-horizontal">
	                <div class="field-label">
	                    <label class="label">Store Name</label>
                    </div>
                    <div class="field-body">
                    	<div class="field has-addons">
		                    <div class="control is-expanded">
		                        <input class="input" type="text" name="storeName" id="storeName" required>
		                    </div>
		                    <div class="control">
		                        <div class="select">
				          			<select id="categorySelection">
				            			<option value="F">Food</option>
					           			<option value="A">Accessories</option>
					           			<option value="B">Bills</option>
					           			<option value="Q">Quality of Life</option>
					           			<option value="S">Shopping/entertainment</option>
				          			</select>
				        		</div>
		                    </div>
	                    </div>
	                </div>
                </div>
                
                <div class="field is-horizontal">
					<div class="field-label is-normal">
				    	<label class="label">Address</label>
				  	</div>
				  	<div class="field-body">
				    	<div class="field has-addons">
				      		<div class="control is-expanded">
				        		<div class="select is-fullwidth">
				          			<select form="headerForm" name="addressList" required>
				            			
				          			</select>
				          			<div class="hide" id="addressId" name="addressId"></div>
				        		</div>
				      		</div>
				      		<div class="control">
			    				<a class="button" id="addAddress" data-modal-id="#modal" disabled>Add</a>
			    			</div>
			    		</div>
					</div>
					
				</div>
	
                <div class="field is-horizontal">
					<div class="field-label is-normal">
				    	<label class="label">Payment type</label>
				  	</div>
				  	<div class="field-body">
					 	<div class="field">
					      	<div class="control is-expanded">
					        	<div class="select is-fullwidth">
				         			<select form="headerForm" name="paymentType">
					           			<option value="Discover">Discover</option>
					           			<option value="Chase Bank">Chase bank</option>
					           			<option value="Chase Credit">Chase credit</option>
					           			<option value="Bancfirst">Bancfirst</option>
					           			<option value="Cash">Cash</option>
				         			</select>
					        	</div>
					      	</div>
			    		</div>
					
					
						<div class="field-label is-normal">
					    	<label class="label">Transaction type</label>
					  	</div>
					  	
				    	<div class="field">
				      		<div class="control is-expanded">
				        		<div class="select is-fullwidth">
				          			<select>
				            			<option>Grocery</option>
				            			<option>Restaurant</option>
				            			<option>Mall</option>
				          			</select>
				        		</div>
				      		</div>
			    		</div>
		    		</div>
				</div>	

				<!-- <div class="control has-text-centered is-expanded">
					<a class="button is-primary" id="toTable">Detail</a>
				</div> -->

				<div id="table">
            		<span class="table-add has-text-success is-medium"><i class="iconz fas fa-plus fa-2x"></i></span>

	            	<table class="table is-fullwidth">
	            		<thead>
							<tr>
								<th style="text-align:right">No.</th>
						        <th>Name</th>
						        <th>Quantity</th>
						        <th>Unit Price</th>
						        <th>Price</th>
						        <th>Tax</th>
						        <th></th>
						        <th></th>
					      	</tr>
				      	</thead>
				      	<tbody>
							<tr class="control">
								<th class="sr-no" style="text-align:right">1</th>
								<td>
									<input required class="input" type="text" name="name[]">
								</td>
								<td>
									<input required class="input" type="number" name="quantity[]" min="1">
								</td>
								<td>
									<input required class="input" type="number" name="unitPrice[]" step="0.01">
								</td>
								<td>
									<div class="price"></div>
									<input class="input" type="hidden" name="price[]" step="0.01">
								</td>
								<td>
									<input type="hidden" name="tax[]">
									<a class="button taxBox iconz is-primary is-outlined is-inverted fas fa-usd"></a>
								</td>
								<td>									
									<div class="dropdown is-active category-dropdown">
										<div class="dropdown-trigger">
											<a class="button" aria-haspopup="true" aria-controls="dropdown-menu2">
												<span>Category</span>
												<span class="icon is-small">
													<i class="iconz fas fa-angle-down" aria-hidden="true"></i>
												</span>
											</a>
										</div>
										<div class="dropdown-menu" role="menu">
											<div class="dropdown-content hide" >
												<div class="dropdown-item ct-parent">
													<h4 class="title is-5">Category</h4>
													
													<a class="tag is-danger categoryTag" id="catF">Food</a><br>
													<a class="tag is-warning categoryTag" id="catB">Bills</a><br>
													<a class="tag categoryTag" id="catA">Accessories</a><br>
													<a class="tag is-success categoryTag" id="catQ">Quality of Life</a><br>
													<a class="tag is-info categoryTag" id="catS">Shopping/entertainment</a><br>
													
													<input class="hide" type="text" name="category[]">
													
												</div>
												<!-- <hr class="dropdown-divider">
												<div class="dropdown-item ttParent">
													<h4 class="title is-5" >Tag</h4>
													
													<input class="hide" type="text" th:field="*{tag}">
												</div> -->
											</div>
										</div>
									</div>
								</td>
								<td><span class="table-remove icon has-text-danger is-medium"><i class="iconz fas fa-times fa-2x"></i></span></td>
							</tr>
						</tbody>
						<tfoot>
							<!-- Total -->
							<tr>
								<th></th>
								<th></th>
								<th></th>
								<th style="text-align:right">Total:</th>
								<td><div id="dummyTotal"></div><input id="total" name="total" class="input" type="hidden" step="0.01"></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<!-- Tax -->
							<tr>
								<th></th>
								<th></th>
								<th></th>
								<th style="text-align:right">Tax:</th>
								<td><input id="taxVal" name="totalTax" class="input" type="number" step="0.01" min="0"></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<!-- Tips -->
							<tr>
								<th></th>
								<th></th>
								<th></th>
								<th style="text-align:right">Tips:</th>
								<td id="tipCell"><input id="tips" name="tips" class="input" type="number" step="0.01" min="0"></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
							<!-- Grandtotal -->
							<tr>
								<th></th>
								<th></th>
								<th></th>
								<th style="text-align:right">Grand Total:</th>
								<td><div id="grandTotalText"></div><input id="grandTotalVal" name="grandTotal" class="input" type="hidden"></td>
								<td></td>
								<td></td>
								<td></td>
							</tr>
						</tfoot>
					</table>
				</div>
				
                <div class="control has-text-centered">
                    <button id="saveTransaction" class="button is-primary" th:value="#{form.submit}">Save</button>
                </div>
            </form>
        </div>
        
      
    </section>
    
    
      
    <!-- Script  -->
    <script th:src="@{https://cdnjs.cloudflare.com/ajax/libs/flatpickr/4.1.4/flatpickr.min.js}"></script>
    <script th:src="@{https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js}"></script>
    <script th:src="@{https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js}"></script>
    
    <!-- Custom JS -->
    <script th:src="@{/script/script.js}"></script>
    <script th:src="@{/script/event.js}"></script>
</body>

</html>